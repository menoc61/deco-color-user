{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { AntDesign } from \"@expo/vector-icons\";\nimport { useNavigation, useRoute } from \"@react-navigation/native\";\nimport { DataStore } from \"aws-amplify\";\nimport { Service } from \"../../models\";\nimport { useBasketContext } from \"../../contexts/BasketContext\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar ServiceDetailsScreen = function ServiceDetailsScreen() {\n  var _route$params;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      service = _useState2[0],\n      setService = _useState2[1];\n\n  var _useState3 = useState(1),\n      _useState4 = _slicedToArray(_useState3, 2),\n      quantity = _useState4[0],\n      setQuantity = _useState4[1];\n\n  var navigation = useNavigation();\n  var route = useRoute();\n  var id = (_route$params = route.params) == null ? void 0 : _route$params.id;\n\n  var _useBasketContext = useBasketContext(),\n      addServiceToBasket = _useBasketContext.addServiceToBasket;\n\n  useEffect(function () {\n    if (id) {\n      DataStore.query(Service, id).then(setService);\n    }\n  }, [id]);\n\n  var onAddToBasket = function onAddToBasket() {\n    return _regeneratorRuntime.async(function onAddToBasket$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(addServiceToBasket(service, quantity));\n\n          case 2:\n            navigation.goBack();\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var onMinus = function onMinus() {\n    if (quantity > 1) {\n      setQuantity(quantity - 1);\n    }\n  };\n\n  var onPlus = function onPlus() {\n    setQuantity(quantity + 1);\n  };\n\n  var getTotal = function getTotal() {\n    return (service.price * quantity).toFixed(2);\n  };\n\n  if (!service) {\n    return _jsx(ActivityIndicator, {\n      size: \"large\",\n      color: \"gray\"\n    });\n  }\n\n  return _jsxs(View, {\n    style: styles.page,\n    children: [_jsx(Text, {\n      style: styles.name,\n      children: service.name\n    }), _jsx(Text, {\n      style: styles.description,\n      children: service.description\n    }), _jsx(View, {\n      style: styles.separator\n    }), _jsxs(View, {\n      style: styles.row,\n      children: [_jsx(AntDesign, {\n        name: \"minuscircleo\",\n        size: 60,\n        color: \"black\",\n        onPress: onMinus\n      }), _jsx(Text, {\n        style: styles.quantity,\n        children: quantity\n      }), _jsx(AntDesign, {\n        name: \"pluscircleo\",\n        size: 60,\n        color: \"black\",\n        onPress: onPlus\n      })]\n    }), _jsx(Pressable, {\n      onPress: onAddToBasket,\n      style: styles.button,\n      children: _jsxs(Text, {\n        style: styles.buttonText,\n        children: [\"Add \", quantity, \" to basket \\u2022 $\", getTotal()]\n      })\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  page: {\n    flex: 1,\n    width: \"100%\",\n    paddingVertical: 40,\n    padding: 10\n  },\n  name: {\n    fontSize: 30,\n    fontWeight: \"600\",\n    marginVertical: 10\n  },\n  description: {\n    color: \"gray\"\n  },\n  separator: {\n    height: 1,\n    backgroundColor: \"lightgrey\",\n    marginVertical: 10\n  },\n  row: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: 50\n  },\n  quantity: {\n    fontSize: 25,\n    marginHorizontal: 20\n  },\n  button: {\n    backgroundColor: \"black\",\n    marginTop: \"auto\",\n    padding: 20,\n    alignItems: \"center\"\n  },\n  buttonText: {\n    color: \"white\",\n    fontWeight: \"600\",\n    fontSize: 18\n  }\n});\nexport default ServiceDetailsScreen;","map":{"version":3,"names":["useState","useEffect","AntDesign","useNavigation","useRoute","DataStore","Service","useBasketContext","ServiceDetailsScreen","service","setService","quantity","setQuantity","navigation","route","id","params","addServiceToBasket","query","then","onAddToBasket","goBack","onMinus","onPlus","getTotal","price","toFixed","styles","page","name","description","separator","row","button","buttonText","StyleSheet","create","flex","width","paddingVertical","padding","fontSize","fontWeight","marginVertical","color","height","backgroundColor","flexDirection","alignItems","justifyContent","marginTop","marginHorizontal"],"sources":["C:/Users/MENO/Desktop/PROJECT/APP-DECO-COLOR/deco-color-user/src/screens/ServiceDetailsScreen/index.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport {\n  View,\n  Text,\n  StyleSheet,\n  Pressable,\n  ActivityIndicator,\n} from \"react-native\";\nimport { AntDesign } from \"@expo/vector-icons\";\nimport { useNavigation, useRoute } from \"@react-navigation/native\";\nimport { DataStore } from \"aws-amplify\";\nimport { Service } from \"../../models\";\nimport { useBasketContext } from \"../../contexts/BasketContext\";\n\nconst ServiceDetailsScreen = () => {\n  const [service, setService] = useState(null);\n  const [quantity, setQuantity] = useState(1);\n\n  const navigation = useNavigation();\n  const route = useRoute();\n  const id = route.params?.id;\n\n  const { addServiceToBasket } = useBasketContext();\n\n  useEffect(() => {\n    if (id) {\n      DataStore.query(Service, id).then(setService);\n    }\n  }, [id]);\n\n  const onAddToBasket = async () => {\n    await addServiceToBasket(service, quantity);\n    navigation.goBack();\n  };\n\n  const onMinus = () => {\n    if (quantity > 1) {\n      setQuantity(quantity - 1);\n    }\n  };\n\n  const onPlus = () => {\n    setQuantity(quantity + 1);\n  };\n\n  const getTotal = () => {\n    return (service.price * quantity).toFixed(2);\n  };\n\n  if (!service) {\n    return <ActivityIndicator size=\"large\" color=\"gray\" />;\n  }\n\n  return (\n    <View style={styles.page}>\n      <Text style={styles.name}>{service.name}</Text>\n      <Text style={styles.description}>{service.description}</Text>\n      <View style={styles.separator} />\n\n      <View style={styles.row}>\n        <AntDesign\n          name=\"minuscircleo\"\n          size={60}\n          color={\"black\"}\n          onPress={onMinus}\n        />\n        <Text style={styles.quantity}>{quantity}</Text>\n        <AntDesign\n          name=\"pluscircleo\"\n          size={60}\n          color={\"black\"}\n          onPress={onPlus}\n        />\n      </View>\n\n      <Pressable onPress={onAddToBasket} style={styles.button}>\n        <Text style={styles.buttonText}>\n          Add {quantity} to basket &#8226; ${getTotal()}\n        </Text>\n      </Pressable>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  page: {\n    flex: 1,\n    width: \"100%\",\n    paddingVertical: 40, // temp fix\n    padding: 10,\n  },\n  name: {\n    fontSize: 30,\n    fontWeight: \"600\",\n    marginVertical: 10,\n  },\n  description: {\n    color: \"gray\",\n  },\n  separator: {\n    height: 1,\n    backgroundColor: \"lightgrey\",\n    marginVertical: 10,\n  },\n  row: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: 50,\n  },\n  quantity: {\n    fontSize: 25,\n    marginHorizontal: 20,\n  },\n  button: {\n    backgroundColor: \"black\",\n    marginTop: \"auto\",\n    padding: 20,\n    alignItems: \"center\",\n  },\n  buttonText: {\n    color: \"white\",\n    fontWeight: \"600\",\n    fontSize: 18,\n  },\n});\n\nexport default ServiceDetailsScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}